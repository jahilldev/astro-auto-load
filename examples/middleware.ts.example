/**
 * Example middleware setup for astro-auto-load
 *
 * NOTE: The middleware is automatically injected by the integration!
 * You DON'T need to create this file unless you want to compose
 * it with your own custom middleware.
 *
 * Only use this if you have additional middleware to add:
 */
import { defineMiddleware, sequence } from 'astro:middleware';
import { autoLoadMiddleware } from 'astro-auto-load/middleware';

// Your custom middleware
const myCustomMiddleware = defineMiddleware(async (context, next) => {
  console.log('Custom middleware:', context.url.pathname);
  return next();
});

// Compose with auto-load middleware
export const onRequest = sequence(myCustomMiddleware, autoLoadMiddleware());

