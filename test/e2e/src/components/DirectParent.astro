---
import { getLoaderData } from 'astro-auto-load/runtime';
import ParallelChild1 from './ParallelChild1.astro';
import ParallelChild2 from './ParallelChild2.astro';

export const loader = async () => {
  const start = Date.now();
  await new Promise((resolve) => setTimeout(resolve, 50));
  const duration = Date.now() - start;
  return { component: 'DirectParent', start, duration };
};

const data = await getLoaderData<typeof loader>();
---

<div class="direct-parent" data-start={data.start} data-duration={data.duration}>
  <h3>Direct Parent (imports children directly, took {data.duration}ms)</h3>
  <ParallelChild1>
    <div>Grandchild slot content</div>
  </ParallelChild1>
  <ParallelChild2 />
</div>
